{% extends "base.html" %}
{% block title %}Оформление заказа{% endblock %}

{% block content %}
<div class="container my-5 checkout-page">

  <h1 class="mb-4 fw-bold">
    Процесс оформления вашего заказа — если возникли вопросы свяжитесь с нами.
  </h1>

  <div id="cartsContainer">
    <p>Загрузка корзины товаров...</p>
  </div>

  <hr class="my-4">

  <h4 class="fw-semibold">Если возникли вопросы с оформлением, свяжитесь с нами <a href="tel:+79951173470">+7 995 117-34-70</a></h4>

  <form id="checkoutForm" class="mt-4">
    <div class="row g-3">

      <div class="col-md-4">
        <label class="form-label">Ваше имя</label>
        <input type="text" name="name" class="form-control" required>
      </div>

      <div class="col-md-4">
        <label class="form-label">Email</label>
        <input type="email" name="email" class="form-control" required>
      </div>

      <div class="col-md-4">
        <label class="form-label">Номер телефона</label>
        <input type="tel" name="phone" class="form-control" placeholder="+7 (000) 000-00-00" required>
      </div>
    </div>

    <h3 class="mt-5 fw-bold">Доставка</h3>

    <div class="row g-3 mt-1">
      <div class="col-md-6">
        <div class="form-check mt-4">
          <input class="form-check-input" type="radio" name="delivery" id="pickup" checked>
          <label class="form-check-label" for="pickup">
            Самовывоз — Москва, ул. Барышиха 14 (от 14 дней)
          </label>
        </div>
        <div class="form-check mt-4">
          <input class="form-check-input" type="radio" name="delivery" id="delivery">
          <label class="form-check-label" for="delivery">
            Доставка — Срок доставки 14-25 дней с момента оплаты заказа.
          </label>
        </div>
      </div>

      <div class="col-md-6">
        <label class="form-label">Город</label>
        <input type="text" name="city" class="form-control" placeholder="Haarlem" required>
        <small class="text-muted d-block mt-1">Netherlands, Provincie Noord-Holland, Gemeente Haarlem, Haarlem</small>
      </div>

      <div class="col-md-6">
        <label class="form-label">Улица</label>
        <input type="text" name="street" class="form-control">
      </div>

      <div class="col-md-3">
        <label class="form-label">Дом</label>
        <input type="text" name="house" class="form-control">
      </div>

      <div class="col-md-3">
        <label class="form-label">Квартира / офис</label>
        <input type="text" name="apt" class="form-control">
      </div>

      <div class="col-12">
        <label class="form-label">Комментарий</label>
        <textarea name="comment" class="form-control" rows="2" placeholder="Комментарий к заказу"></textarea>
      </div>
    </div>



    <h4 class="mt-5 fw-bold">Способ оплаты</h4>

    <div class="form-check">
      <input class="form-check-input" type="radio" name="payment" id="cashPay" checked>
      <label class="form-check-label" for="cashPay">
        Наличными при получении
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="payment" id="cardPay">
      <label class="form-check-label" for="cardPay">
        Кредитной картой (Visa, Mastercard) через Tinkoff
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="payment" id="creditCheck">
      <label class="form-check-label" for="creditCheck">
        Тинькофф / Оформить товар в кредит
      </label>
    </div>
    <hr class="my-4">



    <div class="d-flex justify-content-between align-items-center">
      <div>
        <p class="mb-0">Сумма: <strong id="cartSum">0 ₽</strong></p>
      </div>
      

      <div id="cartDeliveryInfo">
        <small class="text-muted" id="cartCityText">Тип доставки</small>
      </div>

      <div id="cartDeliveryPaymentInfo">
        <small class="text-muted" id="cartPaymentText">Тип оплаты</small>
      </div>
      <div>

        <h5 class="fw-bold">Итоговая сумма: <span id="cartTotal">0 ₽</span></h5>
      </div>
    </div>

    <button type="submit" class="btn btn-dark btn-lg w-100 mt-3">
      Оформить заказ!
    </button>
  </form>
</div>
{% endblock %}